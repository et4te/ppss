%%------------------------------------------------------------------------------
%% Author: et4te <edward.tate@erlang-solutions.com>
%%------------------------------------------------------------------------------
-module(cl_example_sup).

-behaviour(supervisor).

%%------------------------------------------------------------------------------
%% External Exports
%%------------------------------------------------------------------------------
-export([start_link/1]).

%%------------------------------------------------------------------------------
%% Internal Exports
%%------------------------------------------------------------------------------
-export([init/1]).

%%------------------------------------------------------------------------------
%% Macros
%%------------------------------------------------------------------------------
-define(SERVER, ?MODULE).

%%==============================================================================
%% External Functions
%%==============================================================================

start_link(Args) ->
  supervisor:start_link({local, ?SERVER}, ?MODULE, []).


%%==============================================================================
%% Server Functions
%%==============================================================================

init([]) ->
  RestartStrategy = one_for_one,
  MaxRestarts = 1000,
  MaxTimeBetRestarts = 3600,
  
  SupFlags = {RestartStrategy, MaxRestarts, MaxTimeBetRestarts},
  ChildSpecs = 
    [ 
      {cl_example_srv,
       {cl_example_srv, start_link, []},
       permanent,
       1000,
       worker,
       [cl_example_srv]} 
    ],
  {ok, {SupFlags, ChildSpecs}}.
  
